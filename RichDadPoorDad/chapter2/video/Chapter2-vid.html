<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>tiwonk | Lesson Reel</title>

<style>
:root {
  --blue-main: #0d47ff;
  --blue-dark: #0a36cc;
  --overlay-dark: rgba(0,0,0,0.45);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

html, body {
  height: 100%;
}

body {
  background: #000;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* ================= PHONE FRAME ================= */
.phone-frame {
  width: 100%;
  height: 100%;
  max-width: 430px;
  aspect-ratio: 9 / 16;
  background: #000;
  overflow: hidden;
}

@media (max-width: 768px) {
  .phone-frame {
    max-width: 100%;
    aspect-ratio: auto;
  }
}

/* ================= REELS WRAPPER ================= */
.reels {
  height: 100%;
  overflow-y: auto;
  scroll-snap-type: y mandatory;
  -webkit-overflow-scrolling: touch;
}

.reels::-webkit-scrollbar {
  display: none;
}

/* ================= SINGLE REEL ================= */
.reel {
  position: relative;
  height: 100%;
  width: 100%;
  scroll-snap-align: start;
  display: flex;
  align-items: flex-end;
  padding: 20px;
  overflow: hidden;
}

/* Background Video */
/*.reel video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: -2;
}*/

/* Overlay */
/*.reel::before {
  content: "";
  position: absolute;
  inset: 0;
  background: var(--overlay-dark);
  z-index: -1;
  pointer-events: none;
}*/

/* Background Video */
.reel video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 0;
}

/* Overlay */
.reel::before {
  content: "";
  position: absolute;
  inset: 0;
  background: var(--overlay-dark);
  z-index: 1;
  pointer-events: none;
}


/* ================= BACK BUTTON ================= */
.back-btn {
  position: absolute;
  top: 16px;
  left: 16px;
  z-index: 2;
  color: #fff;
  text-decoration: none;
  font-weight: 600;
  font-size: 1rem;
  display: flex;
  align-items: center;
  gap: 6px;
}

.back-btn span {
  font-size: 1.4rem;
}

/* ================= CONTENT ================= */
.reel-content {
  position: relative;
  z-index: 1;
  color: #fff;
  max-width: 620px;

  background: rgba(0,0,0,0.45);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-radius: 16px;
  padding: 16px 18px;
}

.reel-title {
  font-size: 1.4rem;
  font-weight: 700;
  margin-bottom: 8px;
}

.reel-text {
  font-size: 1rem;
  line-height: 1.5;
}

/* ================= END SCREEN ================= */
.end-screen {
  background: linear-gradient(135deg, var(--blue-main), var(--blue-dark));
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

.end-box {
  color: #fff;
  padding: 24px;
}

.end-title {
  font-size: 1.9rem;
  font-weight: 800;
  margin-bottom: 12px;
}

.end-text {
  font-size: 1rem;
  margin-bottom: 28px;
}

.end-actions {
  display: flex;
  gap: 14px;
  justify-content: center;
  flex-wrap: wrap;
}

.end-btn {
  padding: 14px 24px;
  border-radius: 18px;
  font-weight: 700;
  font-size: 0.95rem;
  border: none;
  cursor: pointer;
}

.read-again {
  background: #fff;
  color: var(--blue-main);
}

.go-chapters {
  background: rgba(255,255,255,0.25);
  color: #fff;
}

@media (min-width: 768px) {
  .reel-title {
    font-size: 1.6rem;
  }
}
</style>
</head>

<body>

<div class="phone-frame">
  <div class="reels" id="reels">

    <!-- REEL 1 -->
    <section class="reel">
      <video autoplay muted loop playsinline>
        <source src="lesson1.mp4" type="video/mp4">
      </video>
      <a href="../../BookDetailsPage.html" class="back-btn">
        <span>‚Üê</span> Back
      </a>
      <div class="reel-content">
        <div class="reel-title">Lesson 1</div>
        <div class="reel-text">
          Understand the difference between Assets (things that put money in your pocket e.g., rental properties, stocks, bonds, intellectual property) and Liabilities (things that take money out of your pocket e.g., mortgages, car loans, credit card debt) is crucial for building wealth.
        </div>
      </div>
    </section>

    <!-- REEL 2 -->
    <section class="reel">
      <video autoplay muted loop playsinline>
        <source src="lesson2.mp4" type="video/mp4">
      </video>
      <a href="../../BookDetailsPage.html" class="back-btn">
        <span>‚Üê</span> Back
      </a>
      <div class="reel-content">
        <div class="reel-title">Lesson 2</div>
        <div class="reel-text">
          It is important to learn Financial Education. Schools teach us professional and scholastic skills but they failed to teach us Financial Literacy.
        </div>
      </div>
    </section>

    <!-- REEL 3 -->
    <section class="reel">
      <video autoplay muted loop playsinline>
        <source src="lesson3.mp4" type="video/mp4">
      </video>
      <a href="../../BookDetailsPage.html" class="back-btn">
        <span>‚Üê</span> Back
      </a>
      <div class="reel-content">
        <div class="reel-title">Lesson 3</div>
        <div class="reel-text">
          Rich people invest their income in assets (e.g., rental income, dividends, and royalties). And use the interest to spend on expenses. This process makes them wealthy. 
        </div>
      </div>
    </section>


    <!-- REEL 4 -->
    <section class="reel">
      <video autoplay muted loop playsinline>
        <source src="lesson4.mp4" type="video/mp4">
      </video>
      <a href="../../BookDetailsPage.html" class="back-btn">
        <span>‚Üê</span> Back
      </a>
      <div class="reel-content">
        <div class="reel-title">Lesson 4</div>
        <div class="reel-text">
          Kiyosaki shares the story of wealthy businessmen from the 1920s who lost their fortunes due to a lack of financial intelligence. He emphasizes that intelligence solves problems and produces money, while money without financial intelligence is soon gone.   
        </div>
      </div>
    </section>

    <!-- REEL 5 -->
    <section class="reel">
      <video autoplay muted loop playsinline>
        <source src="lesson5.mp4" type="video/mp4">
      </video>
      <a href="../../BookDetailsPage.html" class="back-btn">
        <span>‚Üê</span> Back
      </a>
      <div class="reel-content">
        <div class="reel-title">Lesson 5</div>
        <div class="reel-text">
          Middle Class and Poor people spend their income in liabilities which makes them depended on their jobs and they trap in the ‚ÄòRat Race‚Äô. 
        </div>
      </div>
    </section>

    <!-- REEL 6 -->
    <section class="reel">
      <video autoplay muted loop playsinline>
        <source src="lesson6.mp4" type="video/mp4">
      </video>
      <a href="../../BookDetailsPage.html" class="back-btn">
        <span>‚Üê</span> Back
      </a>
      <div class="reel-content">
        <div class="reel-title">Lesson 6</div>
        <div class="reel-text">
          Don't follow social rules. Question your financial habits and control your money.
      </div>
    </section>

    <!-- REEL 7 -->
    <section class="reel">
      <video autoplay muted loop playsinline>
        <source src="lesson7.mp4" type="video/mp4">
      </video>
      <a href="../../BookDetailsPage.html" class="back-btn">
        <span>‚Üê</span> Back
      </a>
      <div class="reel-content">
        <div class="reel-title">Lesson 7</div>
        <div class="reel-text">
          House is a liability. Kiyosaki believes that a house is an asset.  He explains that a house often drains money through mortgage payments, property taxes, maintenance, and utilities.
      </div>
    </section>

    <!-- REEL 8 -->
    <section class="reel">
      <video autoplay muted loop playsinline>
        <source src="lesson8.mp4" type="video/mp4">
      </video>
      <a href="../../BookDetailsPage.html" class="back-btn">
        <span>‚Üê</span> Back
      </a>
      <div class="reel-content">
        <div class="reel-title">Lesson 8</div>
        <div class="reel-text">
          Don't let increasing income lead to increasing expenses.
      </div>
    </section>

    <!-- END SCREEN -->
    <section class="reel end-screen">
      <div class="end-box">
        <div class="end-title">Chapter Complete üéâ</div>
        <div class="end-text">You've finished this chapter.</div>

        <div class="end-actions">
          <button class="end-btn read-again" id="readAgainBtn">
            Read Again
          </button>
          <button class="end-btn go-chapters" id="goChaptersBtn">
            Go To Chapters
          </button>
        </div>
      </div>
    </section>

  </div>
</div>

<script>
const reelsContainer = document.getElementById("reels");
const videos = document.querySelectorAll(".reel video");
const readAgainBtn = document.getElementById("readAgainBtn");
const goChaptersBtn = document.getElementById("goChaptersBtn");

/* Auto Play Only Visible Video */
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    const video = entry.target.querySelector("video");

    if (!video) return;

    if (entry.isIntersecting) {
      video.play().catch(() => {});
    } else {
      video.pause();
      video.currentTime = 0; // reset for smooth replay
    }
  });
}, {
  threshold: 0.6
});

/* Observe Each Reel */
document.querySelectorAll(".reel").forEach(reel => {
  observer.observe(reel);
});

/* Read Again */
readAgainBtn.addEventListener("click", () => {
  reelsContainer.scrollTo({
    top: 0,
    behavior: "smooth"
  });
});

/* Go To Chapters */
goChaptersBtn.addEventListener("click", () => {
  window.location.href = "../../BookDetailsPage.html";
});
</script>

</body>
</html>
